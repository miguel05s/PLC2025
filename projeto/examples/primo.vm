START
JUMP MAIN
MAIN:
PUSHS "Introduza um número inteiro positivo:"
WRITES
WRITELN
READ
ATOI
STOREG 0
PUSHI 1
STOREG 2
PUSHI 2
STOREG 1
WH0:
PUSHG 1
STOREG 5
PUSHG 0
STOREG 6
PUSHI 2
PUSHG 6
SWAP
DIV
PUSHG 5
SWAP
INFEQ
STOREG 4
PUSHG 2
PUSHG 4
SWAP
AND
JZ WHE1
PUSHG 0
STOREG 5
PUSHG 1
PUSHG 5
SWAP
MOD
STOREG 4
PUSHI 0
PUSHG 4
SWAP
EQUAL
JZ ELSE2
PUSHI 0
STOREG 2
JUMP ENDIF3
ELSE2:
ENDIF3:
PUSHG 1
STOREG 4
PUSHI 1
PUSHG 4
SWAP
ADD
STOREG 1
JUMP WH0
WHE1:
PUSHG 2
JZ ELSE4
PUSHG 0
WRITEI
PUSHS " é um número primo"
WRITES
WRITELN
JUMP ENDIF5
ELSE4:
PUSHG 0
WRITEI
PUSHS " não é um número primo"
WRITES
WRITELN
ENDIF5:
STOP
